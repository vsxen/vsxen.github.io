<!DOCTYPE html>
<html lang="en-us">
<head>
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-brands-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-regular-400.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/font-awesome/webfonts/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <link rel="preload" href="/lib/JetBrainsMono/web/woff2/JetBrainsMono-Regular.woff2" as="font" type="font/woff2" crossorigin="anonymous">
  <script type="text/javascript" src="https://latest.cactus.chat/cactus.js"></script>
  <link rel="stylesheet" href="https://latest.cactus.chat/style.css" type="text/css">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> procfs 与 Linux 系统监控 | Cactus theme example</title>
  <link rel = 'canonical' href = 'https://example.com/posts/monitor-procfs/'>
  <meta name="description" content="随便记录点东西">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="procfs 与 Linux 系统监控" />
<meta property="og:description" content="Unix系推崇一个观点，Everything is a file 。对于一些系统以及进程信息，kernel会以文件系统的系统挂载在proc和sys目录，也就是常说的procfs，sysfs虚拟文件系统。包括CPU，内存和硬盘等信息。当然对于系统监控来说，这也是重要的数据源。
proc的目录看起来是下面这样的，那些数字都是进程的PID，其他的是一些系统系，比如cpuinfo记录者硬件的CPU信息：
接下来我们看一下进程PID里面的信息，记录者此进程的启动命令，参数等信息。
1ls /proc/ 21 1170 1345 19 2116 304 382 406 787 942 consoles interrupts kpageflags pagetypeinfo sysrq-trigger 310 12 14 1911 22 305 383 408 8 955 cpuinfo iomem loadavg partitions sysvipc 41022 1205 15 1922 24 31 384 41 824 96 crypto ioports locks sched_debug thread-self 5105 1215 16 1928 25 32 387 42 85 967 devices irq mdstat schedstat timer_list 61059 1216 174 2 257 33 389 422 86 979 diskstats kallsyms meminfo scsi tty 711 122 175 20 26 34 398 462 87 994 dma kcore misc self uptime 81122 1243 176 2098 26150 35 4 555 88 acpi driver key-users modules slabinfo version 91134 1269 177 21 27 36 40 556 89 buddyinfo execdomains keys mounts softirqs version_signature 101147 1289 18 2100 28 37 400 6 9 bus fb kmsg mpt stat vmallocinfo 111152 13 183 2114 29 379 402 639 90 cgroups filesystems kpagecgroup mtrr swaps vmstat 121166 1340 186 2115 30 381 404 7 908 cmdline fs kpagecount net sys zoneinfo 13 14 15ls /proc/1/ 16attr cmdline environ io mem ns pagemap sched smaps_rollup syscall wchan 17autogroup comm exe limits mountinfo numa_maps patch_state schedstat stack task 18auxv coredump_filter fd loginuid mounts oom_adj personality sessionid stat timers 19cgroup cpuset fdinfo map_files mountstats oom_score projid_map setgroups statm timerslack_ns 20clear_refs cwd gid_map maps net oom_score_adj root smaps status uid_map sysfs主要记录的系统的设备信息，如果是一个docker0的虚拟网卡：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://example.com/posts/monitor-procfs/" />
<meta property="article:published_time" content="2019-08-25T12:24:20+08:00" />
<meta property="article:modified_time" content="2019-08-25T12:24:20+08:00" />

  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="procfs 与 Linux 系统监控"/>
<meta name="twitter:description" content="Unix系推崇一个观点，Everything is a file 。对于一些系统以及进程信息，kernel会以文件系统的系统挂载在proc和sys目录，也就是常说的procfs，sysfs虚拟文件系统。包括CPU，内存和硬盘等信息。当然对于系统监控来说，这也是重要的数据源。
proc的目录看起来是下面这样的，那些数字都是进程的PID，其他的是一些系统系，比如cpuinfo记录者硬件的CPU信息：
接下来我们看一下进程PID里面的信息，记录者此进程的启动命令，参数等信息。
1ls /proc/ 21 1170 1345 19 2116 304 382 406 787 942 consoles interrupts kpageflags pagetypeinfo sysrq-trigger 310 12 14 1911 22 305 383 408 8 955 cpuinfo iomem loadavg partitions sysvipc 41022 1205 15 1922 24 31 384 41 824 96 crypto ioports locks sched_debug thread-self 5105 1215 16 1928 25 32 387 42 85 967 devices irq mdstat schedstat timer_list 61059 1216 174 2 257 33 389 422 86 979 diskstats kallsyms meminfo scsi tty 711 122 175 20 26 34 398 462 87 994 dma kcore misc self uptime 81122 1243 176 2098 26150 35 4 555 88 acpi driver key-users modules slabinfo version 91134 1269 177 21 27 36 40 556 89 buddyinfo execdomains keys mounts softirqs version_signature 101147 1289 18 2100 28 37 400 6 9 bus fb kmsg mpt stat vmallocinfo 111152 13 183 2114 29 379 402 639 90 cgroups filesystems kpagecgroup mtrr swaps vmstat 121166 1340 186 2115 30 381 404 7 908 cmdline fs kpagecount net sys zoneinfo 13 14 15ls /proc/1/ 16attr cmdline environ io mem ns pagemap sched smaps_rollup syscall wchan 17autogroup comm exe limits mountinfo numa_maps patch_state schedstat stack task 18auxv coredump_filter fd loginuid mounts oom_adj personality sessionid stat timers 19cgroup cpuset fdinfo map_files mountstats oom_score projid_map setgroups statm timerslack_ns 20clear_refs cwd gid_map maps net oom_score_adj root smaps status uid_map sysfs主要记录的系统的设备信息，如果是一个docker0的虚拟网卡："/>

  
  
    
  
  
  <link rel="stylesheet" href="https://example.com/css/styles.b7d947e05a1170a37e8b82db035a37baf568e98c7fcbe3f9dd31eac5e6a72150f9f731721fa60a1b3eed4c6a9db9c5a706d396767b698198aeea1614f88ce960.css" integrity="sha512-t9lH4FoRcKN&#43;i4LbA1o3uvVo6Yx/y&#43;P53THqxeanIVD59zFyH6YKGz7tTGqducWnBtOWdntpgZiu6hYU&#43;IzpYA=="> 

  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://example.com/images/favicon.ico" />

  
  
  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li>
          <a class="icon" href=" https://example.com/posts/get-start-etcd/" aria-label="Previous">
            <i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i>
          </a>
        </li>
        
        
        <li>
          <a class="icon" href="https://example.com/posts/kubectl/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f&text=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f&title=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f&is_video=false&description=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7&body=Check out this article: https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f&title=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f&title=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f&name=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7&description=Unix%e7%b3%bb%e6%8e%a8%e5%b4%87%e4%b8%80%e4%b8%aa%e8%a7%82%e7%82%b9%ef%bc%8cEverything%20is%20a%20file%20%e3%80%82%e5%af%b9%e4%ba%8e%e4%b8%80%e4%ba%9b%e7%b3%bb%e7%bb%9f%e4%bb%a5%e5%8f%8a%e8%bf%9b%e7%a8%8b%e4%bf%a1%e6%81%af%ef%bc%8ckernel%e4%bc%9a%e4%bb%a5%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e7%9a%84%e7%b3%bb%e7%bb%9f%e6%8c%82%e8%bd%bd%e5%9c%a8proc%e5%92%8csys%e7%9b%ae%e5%bd%95%ef%bc%8c%e4%b9%9f%e5%b0%b1%e6%98%af%e5%b8%b8%e8%af%b4%e7%9a%84procfs%ef%bc%8csysfs%e8%99%9a%e6%8b%9f%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e3%80%82%e5%8c%85%e6%8b%acCPU%ef%bc%8c%e5%86%85%e5%ad%98%e5%92%8c%e7%a1%ac%e7%9b%98%e7%ad%89%e4%bf%a1%e6%81%af%e3%80%82%e5%bd%93%e7%84%b6%e5%af%b9%e4%ba%8e%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7%e6%9d%a5%e8%af%b4%ef%bc%8c%e8%bf%99%e4%b9%9f%e6%98%af%e9%87%8d%e8%a6%81%e7%9a%84%e6%95%b0%e6%8d%ae%e6%ba%90%e3%80%82%0aproc%e7%9a%84%e7%9b%ae%e5%bd%95%e7%9c%8b%e8%b5%b7%e6%9d%a5%e6%98%af%e4%b8%8b%e9%9d%a2%e8%bf%99%e6%a0%b7%e7%9a%84%ef%bc%8c%e9%82%a3%e4%ba%9b%e6%95%b0%e5%ad%97%e9%83%bd%e6%98%af%e8%bf%9b%e7%a8%8b%e7%9a%84PID%ef%bc%8c%e5%85%b6%e4%bb%96%e7%9a%84%e6%98%af%e4%b8%80%e4%ba%9b%e7%b3%bb%e7%bb%9f%e7%b3%bb%ef%bc%8c%e6%af%94%e5%a6%82cpuinfo%e8%ae%b0%e5%bd%95%e8%80%85%e7%a1%ac%e4%bb%b6%e7%9a%84CPU%e4%bf%a1%e6%81%af%ef%bc%9a%0a%e6%8e%a5%e4%b8%8b%e6%9d%a5%e6%88%91%e4%bb%ac%e7%9c%8b%e4%b8%80%e4%b8%8b%e8%bf%9b%e7%a8%8bPID%e9%87%8c%e9%9d%a2%e7%9a%84%e4%bf%a1%e6%81%af%ef%bc%8c%e8%ae%b0%e5%bd%95%e8%80%85%e6%ad%a4%e8%bf%9b%e7%a8%8b%e7%9a%84%e5%90%af%e5%8a%a8%e5%91%bd%e4%bb%a4%ef%bc%8c%e5%8f%82%e6%95%b0%e7%ad%89%e4%bf%a1%e6%81%af%e3%80%82%0a1ls%20%2fproc%2f%2021%201170%201345%2019%202116%20304%20382%20406%20787%20942%20consoles%20interrupts%20kpageflags%20pagetypeinfo%20sysrq-trigger%20310%2012%2014%201911%2022%20305%20383%20408%208%20955%20cpuinfo%20iomem%20loadavg%20partitions%20sysvipc%2041022%201205%2015%201922%2024%2031%20384%2041%20824%2096%20crypto%20ioports%20locks%20sched_debug%20thread-self%205105%201215%2016%201928%2025%2032%20387%2042%2085%20967%20devices%20irq%20mdstat%20schedstat%20timer_list%2061059%201216%20174%202%20257%2033%20389%20422%2086%20979%20diskstats%20kallsyms%20meminfo%20scsi%20tty%20711%20122%20175%2020%2026%2034%20398%20462%2087%20994%20dma%20kcore%20misc%20self%20uptime%2081122%201243%20176%202098%2026150%2035%204%20555%2088%20acpi%20driver%20key-users%20modules%20slabinfo%20version%2091134%201269%20177%2021%2027%2036%2040%20556%2089%20buddyinfo%20execdomains%20keys%20mounts%20softirqs%20version_signature%20101147%201289%2018%202100%2028%2037%20400%206%209%20bus%20fb%20kmsg%20mpt%20stat%20vmallocinfo%20111152%2013%20183%202114%2029%20379%20402%20639%2090%20cgroups%20filesystems%20kpagecgroup%20mtrr%20swaps%20vmstat%20121166%201340%20186%202115%2030%20381%20404%207%20908%20cmdline%20fs%20kpagecount%20net%20sys%20zoneinfo%2013%2014%2015ls%20%2fproc%2f1%2f%2016attr%20cmdline%20environ%20io%20mem%20ns%20pagemap%20sched%20smaps_rollup%20syscall%20wchan%2017autogroup%20comm%20exe%20limits%20mountinfo%20numa_maps%20patch_state%20schedstat%20stack%20task%2018auxv%20coredump_filter%20fd%20loginuid%20mounts%20oom_adj%20personality%20sessionid%20stat%20timers%2019cgroup%20cpuset%20fdinfo%20map_files%20mountstats%20oom_score%20projid_map%20setgroups%20statm%20timerslack_ns%2020clear_refs%20cwd%20gid_map%20maps%20net%20oom_score_adj%20root%20smaps%20status%20uid_map%20sysfs%e4%b8%bb%e8%a6%81%e8%ae%b0%e5%bd%95%e7%9a%84%e7%b3%bb%e7%bb%9f%e7%9a%84%e8%ae%be%e5%a4%87%e4%bf%a1%e6%81%af%ef%bc%8c%e5%a6%82%e6%9e%9c%e6%98%af%e4%b8%80%e4%b8%aadocker0%e7%9a%84%e8%99%9a%e6%8b%9f%e7%bd%91%e5%8d%a1%ef%bc%9a" aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f&t=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#cpu">CPU</a></li>
        <li><a href="#memory">Memory</a></li>
        <li><a href="#network">Network</a></li>
      </ul>
    </li>
    <li><a href="#ref">Ref</a></li>
  </ul>
</nav>
    </div>
    
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        procfs 与 Linux 系统监控
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2019-08-25 12:24:20 &#43;0800 CST" itemprop="datePublished">2019-08-25</time>
          
        </div>
        
        
        <div class="article-read-time">
          <i class="far fa-clock"></i>
          
          8 minute read
        </div>
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/kernel" rel="tag">kernel</a>
            
        </div>
        
      </div>
    </header>

  
    
    <div class="content" itemprop="articleBody">
      <p>Unix系推崇一个观点，Everything is a file 。对于一些系统以及进程信息，kernel会以文件系统的系统挂载在proc和sys目录，也就是常说的procfs，sysfs虚拟文件系统。包括CPU，内存和硬盘等信息。当然对于系统监控来说，这也是重要的数据源。</p>
<p>proc的目录看起来是下面这样的，那些数字都是进程的PID，其他的是一些系统系，比如cpuinfo记录者硬件的CPU信息：</p>
<p>接下来我们看一下进程PID里面的信息，记录者此进程的启动命令，参数等信息。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>ls /proc/
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#bd93f9">1</span>     <span style="color:#bd93f9">1170</span>  <span style="color:#bd93f9">1345</span>  <span style="color:#bd93f9">19</span>    <span style="color:#bd93f9">2116</span>   <span style="color:#bd93f9">304</span>  <span style="color:#bd93f9">382</span>  <span style="color:#bd93f9">406</span>  <span style="color:#bd93f9">787</span>  <span style="color:#bd93f9">942</span>        consoles     interrupts   kpageflags  pagetypeinfo  sysrq-trigger
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span style="color:#bd93f9">10</span>    <span style="color:#bd93f9">12</span>    <span style="color:#bd93f9">14</span>    <span style="color:#bd93f9">1911</span>  <span style="color:#bd93f9">22</span>     <span style="color:#bd93f9">305</span>  <span style="color:#bd93f9">383</span>  <span style="color:#bd93f9">408</span>  <span style="color:#bd93f9">8</span>    <span style="color:#bd93f9">955</span>        cpuinfo      iomem        loadavg     partitions    sysvipc
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span style="color:#bd93f9">1022</span>  <span style="color:#bd93f9">1205</span>  <span style="color:#bd93f9">15</span>    <span style="color:#bd93f9">1922</span>  <span style="color:#bd93f9">24</span>     <span style="color:#bd93f9">31</span>   <span style="color:#bd93f9">384</span>  <span style="color:#bd93f9">41</span>   <span style="color:#bd93f9">824</span>  <span style="color:#bd93f9">96</span>         crypto       ioports      locks       sched_debug   thread-self
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span style="color:#bd93f9">105</span>   <span style="color:#bd93f9">1215</span>  <span style="color:#bd93f9">16</span>    <span style="color:#bd93f9">1928</span>  <span style="color:#bd93f9">25</span>     <span style="color:#bd93f9">32</span>   <span style="color:#bd93f9">387</span>  <span style="color:#bd93f9">42</span>   <span style="color:#bd93f9">85</span>   <span style="color:#bd93f9">967</span>        devices      irq          mdstat      schedstat     timer_list
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span style="color:#bd93f9">1059</span>  <span style="color:#bd93f9">1216</span>  <span style="color:#bd93f9">174</span>   <span style="color:#bd93f9">2</span>     <span style="color:#bd93f9">257</span>    <span style="color:#bd93f9">33</span>   <span style="color:#bd93f9">389</span>  <span style="color:#bd93f9">422</span>  <span style="color:#bd93f9">86</span>   <span style="color:#bd93f9">979</span>        diskstats    kallsyms     meminfo     scsi          tty
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span style="color:#bd93f9">11</span>    <span style="color:#bd93f9">122</span>   <span style="color:#bd93f9">175</span>   <span style="color:#bd93f9">20</span>    <span style="color:#bd93f9">26</span>     <span style="color:#bd93f9">34</span>   <span style="color:#bd93f9">398</span>  <span style="color:#bd93f9">462</span>  <span style="color:#bd93f9">87</span>   <span style="color:#bd93f9">994</span>        dma          kcore        misc        self          uptime
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span style="color:#bd93f9">1122</span>  <span style="color:#bd93f9">1243</span>  <span style="color:#bd93f9">176</span>   <span style="color:#bd93f9">2098</span>  <span style="color:#bd93f9">26150</span>  <span style="color:#bd93f9">35</span>   <span style="color:#bd93f9">4</span>    <span style="color:#bd93f9">555</span>  <span style="color:#bd93f9">88</span>   acpi       driver       key-users    modules     slabinfo      version
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span style="color:#bd93f9">1134</span>  <span style="color:#bd93f9">1269</span>  <span style="color:#bd93f9">177</span>   <span style="color:#bd93f9">21</span>    <span style="color:#bd93f9">27</span>     <span style="color:#bd93f9">36</span>   <span style="color:#bd93f9">40</span>   <span style="color:#bd93f9">556</span>  <span style="color:#bd93f9">89</span>   buddyinfo  execdomains  keys         mounts      softirqs      version_signature
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span style="color:#bd93f9">1147</span>  <span style="color:#bd93f9">1289</span>  <span style="color:#bd93f9">18</span>    <span style="color:#bd93f9">2100</span>  <span style="color:#bd93f9">28</span>     <span style="color:#bd93f9">37</span>   <span style="color:#bd93f9">400</span>  <span style="color:#bd93f9">6</span>    <span style="color:#bd93f9">9</span>    bus        fb           kmsg         mpt         stat          vmallocinfo
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span style="color:#bd93f9">1152</span>  <span style="color:#bd93f9">13</span>    <span style="color:#bd93f9">183</span>   <span style="color:#bd93f9">2114</span>  <span style="color:#bd93f9">29</span>     <span style="color:#bd93f9">379</span>  <span style="color:#bd93f9">402</span>  <span style="color:#bd93f9">639</span>  <span style="color:#bd93f9">90</span>   cgroups    filesystems  kpagecgroup  mtrr        swaps         vmstat
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span style="color:#bd93f9">1166</span>  <span style="color:#bd93f9">1340</span>  <span style="color:#bd93f9">186</span>   <span style="color:#bd93f9">2115</span>  <span style="color:#bd93f9">30</span>     <span style="color:#bd93f9">381</span>  <span style="color:#bd93f9">404</span>  <span style="color:#bd93f9">7</span>    <span style="color:#bd93f9">908</span>  cmdline    fs           kpagecount   net         sys           zoneinfo
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span>ls /proc/1/
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>attr        cmdline          environ  io         mem         ns             pagemap      sched      smaps_rollup  syscall        wchan
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>autogroup   comm             exe      limits     mountinfo   numa_maps      patch_state  schedstat  stack         task
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>auxv        coredump_filter  fd       loginuid   mounts      oom_adj        personality  sessionid  stat          timers
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>cgroup      cpuset           fdinfo   map_files  mountstats  oom_score      projid_map   setgroups  statm         timerslack_ns
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>clear_refs  cwd              gid_map  maps       net         oom_score_adj  root         smaps      status        uid_map
</code></pre></div><p>sysfs主要记录的系统的设备信息，如果是一个docker0的虚拟网卡：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>ls /sys/devices/virtual/net/docker0/
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>addr_assign_type  bridge     carrier_changes     dev_port  gro_flush_timeout  link_mode         operstate       power       statistics    uevent
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>addr_len          brif       carrier_down_count  dormant   ifalias            mtu               phys_port_id    proto_down  subsystem
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>address           broadcast  carrier_up_count    duplex    ifindex            name_assign_type  phys_port_name  queues      tx_queue_len
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>brforward         carrier    dev_id              flags     iflink             netdev_group      phys_switch_id  speed       <span style="color:#8be9fd;font-style:italic">type</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>
</code></pre></div><p>刚才上面已经提到procfs是监控系统重要的数据源之一，接下来用几个实例来说明如何监控这些资源。</p>
<h3 id="cpu">CPU</h3>
<p>我们经常说机器的CPU又到95%了，是不是又被挖矿了？那么这个95%又是怎么计算的呢？其实这些东西在top的手册都写的有，首先我们先看一下top中对于CPU使用率的定义，最后的那个单词很关键<code>CPU time</code>（本文不关注Linux如何对进程的分配CPU时间）， kernel会把进程的CPU time写到<code>/proc/{PID}/stat/</code>这个文件中，。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span> %CPU  --  CPU Usage
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>The task&#39;s share of the elapsed CPU <span style="color:#8be9fd;font-style:italic">time</span> since the last screen update, expressed as a percentage of total CPU time.
</code></pre></div><p>下面是dockerd进程的数据示例：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span style="color:#bd93f9">1242</span> <span style="color:#ff79c6">(</span>dockerd<span style="color:#ff79c6">)</span> S <span style="color:#bd93f9">1</span> <span style="color:#bd93f9">1242</span> <span style="color:#bd93f9">1242</span> <span style="color:#bd93f9">0</span> -1 <span style="color:#bd93f9">1077936384</span> <span style="color:#bd93f9">36414</span> <span style="color:#bd93f9">247979</span> <span style="color:#bd93f9">270</span> <span style="color:#bd93f9">69</span> <span style="color:#bd93f9">7206</span> <span style="color:#bd93f9">4167</span> <span style="color:#bd93f9">806</span> <span style="color:#bd93f9">875</span> <span style="color:#bd93f9">20</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">14</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">1412</span> <span style="color:#bd93f9">1133367296</span> <span style="color:#bd93f9">18712</span> <span style="color:#bd93f9">18446744073709551615</span> <span style="color:#bd93f9">94364227485696</span> <span style="color:#bd93f9">94364275405412</span> <span style="color:#bd93f9">140725279924976</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">1006249984</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">2143420159</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">17</span> <span style="color:#bd93f9">1</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">92</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">94364277503464</span> <span style="color:#bd93f9">94364298771328</span> <span style="color:#bd93f9">94364323065856</span> <span style="color:#bd93f9">140725279932063</span> <span style="color:#bd93f9">140725279932150</span> <span style="color:#bd93f9">140725279932150</span> <span style="color:#bd93f9">140725279932391</span> <span style="color:#bd93f9">0</span>
</code></pre></div><p>然后我们写一个很耗CPU的进程，就是死循环啦，它会使某个CPU的使用率达到100%，接受的参数为CPU个数，输出死循环的进程pid，注意在Linux系统中，top显示的CPU使用率和核心数相关，也就是双核的机器最高是200%。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">#! /bin/sh
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#ff79c6"></span><span style="color:#ff79c6">if</span> <span style="color:#ff79c6">[</span> <span style="color:#8be9fd;font-style:italic">$#</span> !<span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span> <span style="color:#ff79c6">]</span> ; <span style="color:#ff79c6">then</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>  <span style="color:#8be9fd;font-style:italic">echo</span> <span style="color:#f1fa8c">&#34;USAGE: </span><span style="color:#8be9fd;font-style:italic">$0</span><span style="color:#f1fa8c"> &lt;CPUs&gt;&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>  <span style="color:#8be9fd;font-style:italic">exit</span> 1;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span style="color:#ff79c6">fi</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span style="color:#ff79c6">for</span> i in <span style="color:#f1fa8c">`</span>seq <span style="color:#8be9fd;font-style:italic">$1</span><span style="color:#f1fa8c">`</span>; <span style="color:#ff79c6">do</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>  <span style="color:#8be9fd;font-style:italic">echo</span> -ne <span style="color:#f1fa8c">&#34;i=0;while true;do i=i+1;
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span style="color:#f1fa8c">done&#34;</span> | /bin/sh &amp;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>  pid_array<span style="color:#ff79c6">[</span><span style="color:#8be9fd;font-style:italic">$i</span><span style="color:#ff79c6">]=</span><span style="color:#8be9fd;font-style:italic">$!</span> ;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span style="color:#ff79c6">done</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span style="color:#6272a4"># 输出pid</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span style="color:#ff79c6">for</span> i in <span style="color:#f1fa8c">&#34;</span><span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">pid_array</span>[@]<span style="color:#f1fa8c">}</span><span style="color:#f1fa8c">&#34;</span>; <span style="color:#ff79c6">do</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span>  <span style="color:#8be9fd;font-style:italic">echo</span> <span style="color:#f1fa8c">&#39;kill &#39;</span> <span style="color:#8be9fd;font-style:italic">$i</span> <span style="color:#f1fa8c">&#39;;&#39;</span>;
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span style="color:#ff79c6">done</span>
</code></pre></div><p>根据上面的文档写一个计算CPU使用率的脚本，与top显示的进行对比，计算公式注释已经说明了。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#8be9fd;font-style:italic">pid</span><span style="color:#ff79c6">=</span><span style="color:#bd93f9">9548</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#6272a4"># 输出top计算的与后面进行对比</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>top -b -n <span style="color:#bd93f9">1</span> -p <span style="color:#8be9fd;font-style:italic">$pid</span>  2&gt;&amp;<span style="color:#bd93f9">1</span> | awk -v <span style="color:#8be9fd;font-style:italic">pid</span><span style="color:#ff79c6">=</span><span style="color:#8be9fd;font-style:italic">$pid</span> <span style="color:#f1fa8c">&#39;{if ($1 == pid)print $9}&#39;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span style="color:#6272a4"># 找出CPU数目</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span style="color:#8be9fd;font-style:italic">cpu_core</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">$(</span>grep -c processor /proc/cpuinfo<span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span style="color:#6272a4"># 0秒时的CPU时间</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span style="color:#8be9fd;font-style:italic">total_time1</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">$(</span>awk <span style="color:#f1fa8c">&#39;{if ($1 == &#34;cpu&#34;) {sum = $2 + $3 + $4 + $5 + $6 + $7 + $8 + $9 + $10 + $11;print sum}}&#39;</span> /proc/stat<span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span style="color:#8be9fd;font-style:italic">cpu_time1</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">$(</span>awk <span style="color:#f1fa8c">&#39;{sum=$14 + $15;print sum}&#39;</span> /proc/<span style="color:#8be9fd;font-style:italic">$pid</span>/stat<span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span style="color:#6272a4"># 1秒后的CPU时间</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span>sleep <span style="color:#bd93f9">1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span style="color:#8be9fd;font-style:italic">total_time2</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">$(</span>awk <span style="color:#f1fa8c">&#39;{if ($1 == &#34;cpu&#34;) {sum = $2 + $3 + $4 + $5 + $6 + $7 + $8 + $9 + $10 + $11;print sum}}&#39;</span> /proc/stat<span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span style="color:#8be9fd;font-style:italic">cpu_time2</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">$(</span>awk <span style="color:#f1fa8c">&#39;{sum=$14 + $15;print sum}&#39;</span> /proc/<span style="color:#8be9fd;font-style:italic">$pid</span>/stat<span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span style="color:#6272a4"># （进程CPU时间差）处以 系统总CPU时间差 乘以CPU个数</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span>awk -v <span style="color:#8be9fd;font-style:italic">cpu_time1</span><span style="color:#ff79c6">=</span><span style="color:#8be9fd;font-style:italic">$cpu_time1</span> -v <span style="color:#8be9fd;font-style:italic">total_time1</span><span style="color:#ff79c6">=</span><span style="color:#8be9fd;font-style:italic">$total_time1</span> -v <span style="color:#8be9fd;font-style:italic">cpu_time2</span><span style="color:#ff79c6">=</span><span style="color:#8be9fd;font-style:italic">$cpu_time2</span> -v <span style="color:#8be9fd;font-style:italic">total_time2</span><span style="color:#ff79c6">=</span><span style="color:#8be9fd;font-style:italic">$total_time2</span> -v <span style="color:#8be9fd;font-style:italic">cpu_core</span><span style="color:#ff79c6">=</span><span style="color:#8be9fd;font-style:italic">$cpu_core</span> <span style="color:#f1fa8c">\
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span style="color:#f1fa8c"></span><span style="color:#f1fa8c">&#39;BEGIN{cpu=((cpu_time2 - cpu_time1) / (total_time2 - total_time1)) * 100*cpu_core;print cpu}&#39;</span>
</code></pre></div><h3 id="memory">Memory</h3>
<p>对于内存来说经常使用的命令也就是<code>free</code> ，那么它读取的就是这里<code>/proc/meminfo</code>，例如free命令的输出</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>free -mh
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>              total        used        free      shared  buff/cache   available
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>Mem:           1.9G        212M        133M        956K        1.6G        1.6G
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>Swap:            0B          0B          0B
</code></pre></div><p>其中部分数据如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span>cat /proc/meminfo
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span>MemTotal:        <span style="color:#bd93f9">2041120</span> kB
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span>MemFree:          <span style="color:#bd93f9">131632</span> kB
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span>MemAvailable:    <span style="color:#bd93f9">1635632</span> kB
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5</span>Buffers:          <span style="color:#bd93f9">257304</span> kB
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6</span>Cached:          <span style="color:#bd93f9">1220788</span> kB
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7</span>SwapCached:            <span style="color:#bd93f9">0</span> kB
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8</span>Active:           <span style="color:#bd93f9">914556</span> kB
</code></pre></div><h3 id="network">Network</h3>
<p>对于网络的监控，不仅有网卡的说句，还是TCP UDP等的数据。其中网卡数据主要来源于<code>/proc/net/dev</code>，</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span>cat /proc/net/dev
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span>Inter-|   Receive                                                |  Transmit
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span> face |bytes    packets errs drop fifo frame compressed multicast|bytes    packets errs drop fifo colls carrier compressed
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>    lo:       <span style="color:#bd93f9">0</span>       <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>     <span style="color:#bd93f9">0</span>          <span style="color:#bd93f9">0</span>         <span style="color:#bd93f9">0</span>        <span style="color:#bd93f9">0</span>       <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>     <span style="color:#bd93f9">0</span>       <span style="color:#bd93f9">0</span>          <span style="color:#bd93f9">0</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>enp0s3: <span style="color:#bd93f9">655272901</span>  <span style="color:#bd93f9">547097</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>     <span style="color:#bd93f9">0</span>          <span style="color:#bd93f9">0</span>         <span style="color:#bd93f9">0</span>  <span style="color:#bd93f9">8184738</span>  <span style="color:#bd93f9">111064</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>     <span style="color:#bd93f9">0</span>       <span style="color:#bd93f9">0</span>          <span style="color:#bd93f9">0</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span>enp0s8:   <span style="color:#bd93f9">38372</span>     <span style="color:#bd93f9">393</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>     <span style="color:#bd93f9">0</span>          <span style="color:#bd93f9">0</span>         <span style="color:#bd93f9">2</span>     <span style="color:#bd93f9">1846</span>      <span style="color:#bd93f9">25</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>     <span style="color:#bd93f9">0</span>       <span style="color:#bd93f9">0</span>          <span style="color:#bd93f9">0</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span>docker0:  <span style="color:#bd93f9">210438</span>    <span style="color:#bd93f9">4999</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>     <span style="color:#bd93f9">0</span>          <span style="color:#bd93f9">0</span>         <span style="color:#bd93f9">0</span> <span style="color:#bd93f9">25782544</span>    <span style="color:#bd93f9">5340</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>     <span style="color:#bd93f9">0</span>       <span style="color:#bd93f9">0</span>          <span style="color:#bd93f9">0</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span>br-4ef817c04403:       <span style="color:#bd93f9">0</span>       <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>     <span style="color:#bd93f9">0</span>          <span style="color:#bd93f9">0</span>         <span style="color:#bd93f9">0</span>        <span style="color:#bd93f9">0</span>       <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>    <span style="color:#bd93f9">0</span>     <span style="color:#bd93f9">0</span>       <span style="color:#bd93f9">0</span>          <span style="color:#bd93f9">0</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>root@ubuntu-bionic:/home/vagrant#
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span>
</code></pre></div><p>下面是一个通过读取此文件然后输出对应网卡流量的脚本：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span style="color:#ff79c6">#!/bin/bash
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span style="color:#ff79c6"></span>usage<span style="color:#ff79c6">()</span> <span style="color:#ff79c6">{</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span>        <span style="color:#8be9fd;font-style:italic">echo</span> <span style="color:#f1fa8c">&#34;Useage : </span><span style="color:#8be9fd;font-style:italic">$0</span><span style="color:#f1fa8c">&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span>        <span style="color:#8be9fd;font-style:italic">echo</span> <span style="color:#f1fa8c">&#34;eg. sh </span><span style="color:#8be9fd;font-style:italic">$0</span><span style="color:#f1fa8c"> eth0 2&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span>        <span style="color:#8be9fd;font-style:italic">exit</span> <span style="color:#bd93f9">1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span style="color:#ff79c6">}</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span style="color:#ff79c6">if</span> <span style="color:#ff79c6">[</span> <span style="color:#8be9fd;font-style:italic">$#</span> -lt <span style="color:#bd93f9">2</span> <span style="color:#ff79c6">]</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span style="color:#ff79c6">then</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span>        usage
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span style="color:#ff79c6">fi</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span style="color:#8be9fd;font-style:italic">eth</span><span style="color:#ff79c6">=</span><span style="color:#8be9fd;font-style:italic">$1</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span style="color:#8be9fd;font-style:italic">timer</span><span style="color:#ff79c6">=</span><span style="color:#8be9fd;font-style:italic">$2</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span style="color:#8be9fd;font-style:italic">in_old</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">$(</span>cat /proc/net/dev | grep <span style="color:#8be9fd;font-style:italic">$eth</span> | sed -e <span style="color:#f1fa8c">&#34;s/\(.*\)\:\(.*\)/\2/g&#34;</span> | awk <span style="color:#f1fa8c">&#39;{print $1 }&#39;</span><span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span style="color:#8be9fd;font-style:italic">out_old</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">$(</span>cat /proc/net/dev | grep <span style="color:#8be9fd;font-style:italic">$eth</span> | sed -e <span style="color:#f1fa8c">&#34;s/\(.*\)\:\(.*\)/\2/g&#34;</span> | awk <span style="color:#f1fa8c">&#39;{print $9 }&#39;</span><span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span style="color:#ff79c6">while</span> <span style="color:#8be9fd;font-style:italic">true</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span style="color:#ff79c6">do</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span>        sleep <span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">timer</span><span style="color:#f1fa8c">}</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span>        <span style="color:#8be9fd;font-style:italic">in</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">$(</span>cat /proc/net/dev | grep <span style="color:#8be9fd;font-style:italic">$eth</span> | sed -e <span style="color:#f1fa8c">&#34;s/\(.*\)\:\(.*\)/\2/g&#34;</span> | awk <span style="color:#f1fa8c">&#39;{print $1 }&#39;</span><span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span>        <span style="color:#8be9fd;font-style:italic">out</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">$(</span>cat /proc/net/dev | grep <span style="color:#8be9fd;font-style:italic">$eth</span> | sed -e <span style="color:#f1fa8c">&#34;s/\(.*\)\:\(.*\)/\2/g&#34;</span> | awk <span style="color:#f1fa8c">&#39;{print $9 }&#39;</span><span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span>        <span style="color:#8be9fd;font-style:italic">dif_in</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">$((</span><span style="color:#ff79c6">(</span>in-in_old<span style="color:#ff79c6">)/</span>timer<span style="color:#ff79c6">))</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span>        <span style="color:#8be9fd;font-style:italic">dif_in</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">$((</span>dif_in/1024<span style="color:#ff79c6">))</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span>        <span style="color:#8be9fd;font-style:italic">dif_out</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">$((</span><span style="color:#ff79c6">(</span>out-out_old<span style="color:#ff79c6">)/</span>timer<span style="color:#ff79c6">))</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span>        <span style="color:#8be9fd;font-style:italic">dif_out</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">$((</span>dif_out/1024<span style="color:#ff79c6">))</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span>        <span style="color:#8be9fd;font-style:italic">ct</span><span style="color:#ff79c6">=</span><span style="color:#ff79c6">$(</span>date +<span style="color:#f1fa8c">&#34;%F %H:%M:%S&#34;</span><span style="color:#ff79c6">)</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span>        <span style="color:#8be9fd;font-style:italic">echo</span> <span style="color:#f1fa8c">&#34;</span><span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">ct</span><span style="color:#f1fa8c">}</span><span style="color:#f1fa8c"> -- IN: </span><span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">dif_in</span><span style="color:#f1fa8c">}</span><span style="color:#f1fa8c"> KByte/s     OUT: </span><span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">dif_out</span><span style="color:#f1fa8c">}</span><span style="color:#f1fa8c"> KByte/s&#34;</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span>        <span style="color:#8be9fd;font-style:italic">in_old</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">in</span><span style="color:#f1fa8c">}</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span>        <span style="color:#8be9fd;font-style:italic">out_old</span><span style="color:#ff79c6">=</span><span style="color:#f1fa8c">${</span><span style="color:#8be9fd;font-style:italic">out</span><span style="color:#f1fa8c">}</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span><span style="color:#ff79c6">done</span>
<span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span><span style="color:#8be9fd;font-style:italic">exit</span> <span style="color:#bd93f9">0</span>
</code></pre></div><h2 id="ref">Ref</h2>
<p>CPU使用率原理及计算方式</p>
<p><a href="https://www.cnblogs.com/gatsby123/p/11127158.html">https://www.cnblogs.com/gatsby123/p/11127158.html</a></p>
<p>PROCFS AND SYSFS</p>
<p><a href="https://landoflinux.com/linux_procfs_sysfs.html">https://landoflinux.com/linux_procfs_sysfs.html</a></p>

    </div>
  </article>

  
  






  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Writings</a></li>
         
          <li><a href="/tags">Tags</a></li>
         
          <li><a href="/about">About</a></li>
        
      </ul>
    </div>

    
    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#cpu">CPU</a></li>
        <li><a href="#memory">Memory</a></li>
        <li><a href="#network">Network</a></li>
      </ul>
    </li>
    <li><a href="#ref">Ref</a></li>
  </ul>
</nav>
    </div>
    

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f&text=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f&title=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f&is_video=false&description=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7&body=Check out this article: https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f&title=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f&title=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f&name=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7&description=Unix%e7%b3%bb%e6%8e%a8%e5%b4%87%e4%b8%80%e4%b8%aa%e8%a7%82%e7%82%b9%ef%bc%8cEverything%20is%20a%20file%20%e3%80%82%e5%af%b9%e4%ba%8e%e4%b8%80%e4%ba%9b%e7%b3%bb%e7%bb%9f%e4%bb%a5%e5%8f%8a%e8%bf%9b%e7%a8%8b%e4%bf%a1%e6%81%af%ef%bc%8ckernel%e4%bc%9a%e4%bb%a5%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e7%9a%84%e7%b3%bb%e7%bb%9f%e6%8c%82%e8%bd%bd%e5%9c%a8proc%e5%92%8csys%e7%9b%ae%e5%bd%95%ef%bc%8c%e4%b9%9f%e5%b0%b1%e6%98%af%e5%b8%b8%e8%af%b4%e7%9a%84procfs%ef%bc%8csysfs%e8%99%9a%e6%8b%9f%e6%96%87%e4%bb%b6%e7%b3%bb%e7%bb%9f%e3%80%82%e5%8c%85%e6%8b%acCPU%ef%bc%8c%e5%86%85%e5%ad%98%e5%92%8c%e7%a1%ac%e7%9b%98%e7%ad%89%e4%bf%a1%e6%81%af%e3%80%82%e5%bd%93%e7%84%b6%e5%af%b9%e4%ba%8e%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7%e6%9d%a5%e8%af%b4%ef%bc%8c%e8%bf%99%e4%b9%9f%e6%98%af%e9%87%8d%e8%a6%81%e7%9a%84%e6%95%b0%e6%8d%ae%e6%ba%90%e3%80%82%0aproc%e7%9a%84%e7%9b%ae%e5%bd%95%e7%9c%8b%e8%b5%b7%e6%9d%a5%e6%98%af%e4%b8%8b%e9%9d%a2%e8%bf%99%e6%a0%b7%e7%9a%84%ef%bc%8c%e9%82%a3%e4%ba%9b%e6%95%b0%e5%ad%97%e9%83%bd%e6%98%af%e8%bf%9b%e7%a8%8b%e7%9a%84PID%ef%bc%8c%e5%85%b6%e4%bb%96%e7%9a%84%e6%98%af%e4%b8%80%e4%ba%9b%e7%b3%bb%e7%bb%9f%e7%b3%bb%ef%bc%8c%e6%af%94%e5%a6%82cpuinfo%e8%ae%b0%e5%bd%95%e8%80%85%e7%a1%ac%e4%bb%b6%e7%9a%84CPU%e4%bf%a1%e6%81%af%ef%bc%9a%0a%e6%8e%a5%e4%b8%8b%e6%9d%a5%e6%88%91%e4%bb%ac%e7%9c%8b%e4%b8%80%e4%b8%8b%e8%bf%9b%e7%a8%8bPID%e9%87%8c%e9%9d%a2%e7%9a%84%e4%bf%a1%e6%81%af%ef%bc%8c%e8%ae%b0%e5%bd%95%e8%80%85%e6%ad%a4%e8%bf%9b%e7%a8%8b%e7%9a%84%e5%90%af%e5%8a%a8%e5%91%bd%e4%bb%a4%ef%bc%8c%e5%8f%82%e6%95%b0%e7%ad%89%e4%bf%a1%e6%81%af%e3%80%82%0a1ls%20%2fproc%2f%2021%201170%201345%2019%202116%20304%20382%20406%20787%20942%20consoles%20interrupts%20kpageflags%20pagetypeinfo%20sysrq-trigger%20310%2012%2014%201911%2022%20305%20383%20408%208%20955%20cpuinfo%20iomem%20loadavg%20partitions%20sysvipc%2041022%201205%2015%201922%2024%2031%20384%2041%20824%2096%20crypto%20ioports%20locks%20sched_debug%20thread-self%205105%201215%2016%201928%2025%2032%20387%2042%2085%20967%20devices%20irq%20mdstat%20schedstat%20timer_list%2061059%201216%20174%202%20257%2033%20389%20422%2086%20979%20diskstats%20kallsyms%20meminfo%20scsi%20tty%20711%20122%20175%2020%2026%2034%20398%20462%2087%20994%20dma%20kcore%20misc%20self%20uptime%2081122%201243%20176%202098%2026150%2035%204%20555%2088%20acpi%20driver%20key-users%20modules%20slabinfo%20version%2091134%201269%20177%2021%2027%2036%2040%20556%2089%20buddyinfo%20execdomains%20keys%20mounts%20softirqs%20version_signature%20101147%201289%2018%202100%2028%2037%20400%206%209%20bus%20fb%20kmsg%20mpt%20stat%20vmallocinfo%20111152%2013%20183%202114%2029%20379%20402%20639%2090%20cgroups%20filesystems%20kpagecgroup%20mtrr%20swaps%20vmstat%20121166%201340%20186%202115%2030%20381%20404%207%20908%20cmdline%20fs%20kpagecount%20net%20sys%20zoneinfo%2013%2014%2015ls%20%2fproc%2f1%2f%2016attr%20cmdline%20environ%20io%20mem%20ns%20pagemap%20sched%20smaps_rollup%20syscall%20wchan%2017autogroup%20comm%20exe%20limits%20mountinfo%20numa_maps%20patch_state%20schedstat%20stack%20task%2018auxv%20coredump_filter%20fd%20loginuid%20mounts%20oom_adj%20personality%20sessionid%20stat%20timers%2019cgroup%20cpuset%20fdinfo%20map_files%20mountstats%20oom_score%20projid_map%20setgroups%20statm%20timerslack_ns%2020clear_refs%20cwd%20gid_map%20maps%20net%20oom_score_adj%20root%20smaps%20status%20uid_map%20sysfs%e4%b8%bb%e8%a6%81%e8%ae%b0%e5%bd%95%e7%9a%84%e7%b3%bb%e7%bb%9f%e7%9a%84%e8%ae%be%e5%a4%87%e4%bf%a1%e6%81%af%ef%bc%8c%e5%a6%82%e6%9e%9c%e6%98%af%e4%b8%80%e4%b8%aadocker0%e7%9a%84%e8%99%9a%e6%8b%9f%e7%bd%91%e5%8d%a1%ef%bc%9a" aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fexample.com%2fposts%2fmonitor-procfs%2f&t=procfs%20%e4%b8%8e%20Linux%20%e7%b3%bb%e7%bb%9f%e7%9b%91%e6%8e%a7" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2025  You 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>

<script src=/js/code-copy.js></script>




</html>
